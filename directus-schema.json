{
  "collections": [
    {
      "collection": "stalls",
      "meta": {
        "collection": "stalls",
        "icon": "store",
        "note": "Property stalls/units",
        "singleton": false
      },
      "schema": {
        "name": "stalls"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true,
            "has_auto_increment": false
          }
        },
        {
          "field": "stall_code",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "floor",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "monthly_rent",
          "type": "decimal",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "electricity_reader",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "floor_size",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "occupancy_status",
          "type": "string",
          "meta": {
            "interface": "select-dropdown",
            "options": {
              "choices": [
                { "text": "Vacant", "value": "vacant" },
                { "text": "Occupied", "value": "occupied" }
              ]
            },
            "required": true
          },
          "schema": {
            "default_value": "vacant"
          }
        },
        {
          "field": "image_url",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "updated_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-updated"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "tenants",
      "meta": {
        "collection": "tenants",
        "icon": "people",
        "note": "Tenant records",
        "singleton": false
      },
      "schema": {
        "name": "tenants"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "business_name",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "contact_person",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "email",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "phone",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "stall_number",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "lease_start_date",
          "type": "date",
          "meta": {
            "interface": "datetime",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "lease_end_date",
          "type": "date",
          "meta": {
            "interface": "datetime",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "monthly_rent",
          "type": "decimal",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "status",
          "type": "string",
          "meta": {
            "interface": "select-dropdown",
            "options": {
              "choices": [
                { "text": "Active", "value": "active" },
                { "text": "Inactive", "value": "inactive" }
              ]
            },
            "required": true
          },
          "schema": {
            "default_value": "active"
          }
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "updated_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-updated"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "payments",
      "meta": {
        "collection": "payments",
        "icon": "payments",
        "note": "Payment records",
        "singleton": false
      },
      "schema": {
        "name": "payments"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "tenant_id",
          "type": "uuid",
          "meta": {
            "interface": "select-dropdown-m2o",
            "special": ["m2o"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "amount",
          "type": "decimal",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "payment_date",
          "type": "date",
          "meta": {
            "interface": "datetime",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "payment_method",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "status",
          "type": "string",
          "meta": {
            "interface": "select-dropdown",
            "options": {
              "choices": [
                { "text": "Pending", "value": "pending" },
                { "text": "Completed", "value": "completed" },
                { "text": "Failed", "value": "failed" }
              ]
            },
            "required": true
          },
          "schema": {
            "default_value": "pending"
          }
        },
        {
          "field": "notes",
          "type": "text",
          "meta": {
            "interface": "input-multiline",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_by",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "updated_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-updated"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "inquiries",
      "meta": {
        "collection": "inquiries",
        "icon": "contact_mail",
        "note": "Stall inquiries from guests",
        "singleton": false
      },
      "schema": {
        "name": "inquiries"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "stall_id",
          "type": "uuid",
          "meta": {
            "interface": "select-dropdown-m2o",
            "special": ["m2o"],
            "required": false
          },
          "schema": {}
        },
        {
          "field": "stall_code",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "name",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "email",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "phone",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "message",
          "type": "text",
          "meta": {
            "interface": "input-multiline",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "status",
          "type": "string",
          "meta": {
            "interface": "select-dropdown",
            "options": {
              "choices": [
                { "text": "Pending", "value": "pending" },
                { "text": "Contacted", "value": "contacted" },
                { "text": "Resolved", "value": "resolved" },
                { "text": "Rejected", "value": "rejected" }
              ]
            },
            "required": true
          },
          "schema": {
            "default_value": "pending"
          }
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "updated_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-updated"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "notifications",
      "meta": {
        "collection": "notifications",
        "icon": "notifications",
        "note": "System notifications",
        "singleton": false
      },
      "schema": {
        "name": "notifications"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "title",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "message",
          "type": "text",
          "meta": {
            "interface": "input-multiline",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "type",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {
            "default_value": "info"
          }
        },
        {
          "field": "is_read",
          "type": "boolean",
          "meta": {
            "interface": "boolean",
            "required": true
          },
          "schema": {
            "default_value": false
          }
        },
        {
          "field": "reference_id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "reference_type",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "app_settings",
      "meta": {
        "collection": "app_settings",
        "icon": "settings",
        "note": "Application settings",
        "singleton": false
      },
      "schema": {
        "name": "app_settings"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "key",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "value",
          "type": "json",
          "meta": {
            "interface": "input-code",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "description",
          "type": "text",
          "meta": {
            "interface": "input-multiline",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "updated_by",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "updated_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-updated"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "profiles",
      "meta": {
        "collection": "profiles",
        "icon": "account_circle",
        "note": "User profiles",
        "singleton": false
      },
      "schema": {
        "name": "profiles"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "user_id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "full_name",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "email",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        },
        {
          "field": "updated_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-updated"],
            "required": true
          },
          "schema": {}
        }
      ]
    },
    {
      "collection": "login_attempts",
      "meta": {
        "collection": "login_attempts",
        "icon": "security",
        "note": "Login attempt tracking",
        "singleton": false
      },
      "schema": {
        "name": "login_attempts"
      },
      "fields": [
        {
          "field": "id",
          "type": "uuid",
          "meta": {
            "interface": "input",
            "special": ["uuid"],
            "required": true
          },
          "schema": {
            "is_primary_key": true
          }
        },
        {
          "field": "email",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": true
          },
          "schema": {}
        },
        {
          "field": "success",
          "type": "boolean",
          "meta": {
            "interface": "boolean",
            "required": true
          },
          "schema": {
            "default_value": false
          }
        },
        {
          "field": "failure_reason",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "ip_address",
          "type": "string",
          "meta": {
            "interface": "input",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "user_agent",
          "type": "text",
          "meta": {
            "interface": "input-multiline",
            "required": false
          },
          "schema": {}
        },
        {
          "field": "created_at",
          "type": "timestamp",
          "meta": {
            "interface": "datetime",
            "special": ["date-created"],
            "required": true
          },
          "schema": {}
        }
      ]
    }
  ],
  "relations": [
    {
      "collection": "payments",
      "field": "tenant_id",
      "related_collection": "tenants",
      "meta": {
        "many_collection": "payments",
        "many_field": "tenant_id",
        "one_collection": "tenants",
        "one_field": null
      },
      "schema": {
        "on_delete": "SET NULL"
      }
    },
    {
      "collection": "inquiries",
      "field": "stall_id",
      "related_collection": "stalls",
      "meta": {
        "many_collection": "inquiries",
        "many_field": "stall_id",
        "one_collection": "stalls",
        "one_field": null
      },
      "schema": {
        "on_delete": "SET NULL"
      }
    }
  ]
}
